import config from "@/config";
import { Icons } from "./icons";
import Link from "next/link";
// import ButtonCheckout from "./ButtonCheckout";

// <Pricing/> displays the pricing plans for your app
// It's your Stripe config in config.js.stripe.plans[] that will be used to display the plans
// <ButtonCheckout /> renders a button that will redirect the user to Stripe checkout called the /api/stripe/create-checkout API endpoint with the correct priceId

const Pricing = () => {
  return (
    <section className="overflow-hidden" id="pricing">
      <div className="py-24 px-8 max-w-5xl mx-auto">
        <div className="flex flex-col text-center w-full mb-20">
          <p className="font-medium text-primary mb-8">Pricing</p>
          <h3 className="font-bold text-3xl lg:text-5xl mb-6 tracking-tight">
            I&apos;m not sure if you want to pay for these features...
          </h3>
          <p>It&apos;s for you to decide!</p>
        </div>

        <div className="relative flex justify-center flex-col lg:flex-row items-center lg:items-stretch gap-8">
          {config.stripe.plans.map((plan) => (
            <div key={plan.priceId} className={`relative ${plan.isFeatured && "border-primary"} border-2 bg-card/80 rounded-3xl w-full max-w-md`}>
              {plan.isFeatured && (
                <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20">
                  <span
                    className={`badge text-xs text-primary-foreground px-2 rounded-full font-semibold border-0 bg-primary`}
                  >
                    {/* POPULAR */}
                    coming soon
                  </span>
                </div>
              )}

              <div className="relative flex flex-col h-full gap-5 lg:gap-8 z-10 bg-base-100 p-8 rounded-lg">
                <div className="flex justify-between items-center gap-4">
                  <div>
                    <p className="text-lg lg:text-xl font-bold">{plan.name}</p>
                    {plan.description && (
                      <p className="text-foreground/60 mt-2">
                        {plan.description}
                      </p>
                    )}
                  </div>
                </div>
                <div className="flex gap-2">
                  {plan.priceAnchor && (
                    <div className="flex flex-col justify-end mb-[4px] text-lg ">
                      <p className="relative">
                        <span className="text-foreground/80 line-through">
                          ${plan.priceAnchor}
                        </span>
                      </p>
                    </div>
                  )}
                  <p className={`text-5xl tracking-tight font-extrabold`}>
                    ${plan.price}
                  </p>
                  <div className="flex flex-col justify-end mb-[4px]">
                    <p className="text-xs text-foreground/60 uppercase font-semibold">
                      USD
                    </p>
                  </div>
                </div>
                <p>{plan.featureTitle}:</p>
                {plan.features && (
                  <ul className="space-y-2.5 leading-relaxed text-base flex-1">
                    {plan.features.map((feature, i) => (
                      <li key={i} className="flex items-center gap-2">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 20 20"
                          fill="currentColor"
                          className="w-[18px] h-[18px] opacity-80 shrink-0"
                        >
                          <path
                            fillRule="evenodd"
                            d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                            clipRule="evenodd"
                          />
                        </svg>

                        <span>{feature.name} </span>
                      </li>
                    ))}
                  </ul>
                )}
                <div className="space-y-2 mx-auto flex items-center flex-col">
                  {/* <ButtonCheckout priceId={plan.priceId} />

                  <p className="flex items-center justify-center gap-2 text-sm text-center text-base-content/80 font-medium relative">
                    It&apos;s free! No need to click the above button!
                  </p> */}
                  <Link href={"https://discord.gg/4tZvwVeM"} target="_blank" className="flex gap-2 items-center text-accent hover:bg-accent-foreground/80 bg-accent-foreground px-4 py-1 rounded-md">Join
                    <svg width="100" height="30" viewBox="0 0 292 80" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <g clipPath="url(#clip0_68_9)">
                        <g clipPath="url(#clip1_68_9)">
                          <path d="M61.7958 16.494C57.0736 14.2846 52.0244 12.6789 46.7456 11.7646C46.0973 12.9367 45.3399 14.5132 44.8177 15.7673C39.2062 14.9234 33.6463 14.9234 28.138 15.7673C27.6159 14.5132 26.8413 12.9367 26.1872 11.7646C20.9027 12.6789 15.8477 14.2905 11.1255 16.5057C1.60078 30.8988 -0.981215 44.9344 0.309785 58.7707C6.62708 63.4883 12.7493 66.3541 18.7682 68.2294C20.2543 66.1841 21.5797 64.0099 22.7215 61.7185C20.5469 60.8922 18.4641 59.8725 16.4961 58.6887C17.0182 58.3019 17.5289 57.8975 18.0223 57.4814C30.0257 63.0957 43.0677 63.0957 54.9277 57.4814C55.4269 57.8975 55.9375 58.3019 56.4539 58.6887C54.4801 59.8783 52.3916 60.898 50.217 61.7244C51.3588 64.0099 52.6785 66.19 54.1703 68.2352C60.195 66.3599 66.3229 63.4942 72.6402 58.7707C74.155 42.7309 70.0525 28.8242 61.7958 16.494ZM24.3568 50.2615C20.7535 50.2615 17.7985 46.8976 17.7985 42.8012C17.7985 38.7048 20.6904 35.3351 24.3568 35.3351C28.0233 35.3351 30.9782 38.6989 30.9151 42.8012C30.9208 46.8976 28.0233 50.2615 24.3568 50.2615ZM48.5932 50.2615C44.9899 50.2615 42.0349 46.8976 42.0349 42.8012C42.0349 38.7048 44.9267 35.3351 48.5932 35.3351C52.2596 35.3351 55.2146 38.6989 55.1515 42.8012C55.1515 46.8976 52.2596 50.2615 48.5932 50.2615Z" fill="#5865F2" />
                          <path d="M98.0294 26.1708H113.694C117.469 26.1708 120.659 26.7744 123.276 27.9758C125.886 29.1772 127.843 30.8532 129.14 32.9981C130.436 35.143 131.09 37.5985 131.09 40.3646C131.09 43.0721 130.413 45.5276 129.059 47.7252C127.705 49.9287 125.645 51.6693 122.874 52.9527C120.103 54.2361 116.671 54.8808 112.569 54.8808H98.0294V26.1708ZM112.408 47.5846C114.95 47.5846 116.907 46.9341 118.272 45.639C119.638 44.3379 120.321 42.5681 120.321 40.3236C120.321 38.2432 119.712 36.5847 118.496 35.3423C117.28 34.0999 115.438 33.4728 112.976 33.4728H108.076V47.5846H112.408Z" fill="#5865F2" />
                          <path d="M154.541 54.8457C152.372 54.2714 150.416 53.4392 148.677 52.3433V45.5336C149.991 46.5709 151.753 47.4265 153.962 48.1004C156.171 48.7685 158.305 49.1025 160.371 49.1025C161.335 49.1025 162.064 48.9736 162.557 48.7158C163.05 48.4579 163.297 48.1473 163.297 47.7898C163.297 47.3796 163.165 47.0397 162.896 46.7642C162.626 46.4888 162.104 46.2603 161.329 46.0669L156.509 44.9593C153.75 44.3029 151.793 43.3945 150.628 42.2283C149.463 41.068 148.884 39.5443 148.884 37.6572C148.884 36.0691 149.389 34.6919 150.41 33.5139C151.426 32.336 152.872 31.4276 154.748 30.7889C156.624 30.1442 158.816 29.8219 161.335 29.8219C163.584 29.8219 165.644 30.068 167.52 30.5603C169.396 31.0526 170.946 31.6796 172.179 32.4473V38.8879C170.917 38.1202 169.471 37.5166 167.819 37.0595C166.172 36.6082 164.479 36.3855 162.735 36.3855C160.216 36.3855 158.959 36.825 158.959 37.6982C158.959 38.1085 159.155 38.4132 159.545 38.6183C159.935 38.8234 160.652 39.0344 161.691 39.2571L165.707 39.9955C168.329 40.4585 170.286 41.2731 171.571 42.4334C172.856 43.5938 173.499 45.3109 173.499 47.5847C173.499 50.0754 172.438 52.0503 170.309 53.5154C168.18 54.9805 165.162 55.713 161.249 55.713C158.948 55.7072 156.71 55.42 154.541 54.8457Z" fill="#5865F2" />
                          <path d="M182.978 53.984C180.677 52.8354 178.939 51.2765 177.78 49.3074C176.621 47.3383 176.036 45.1231 176.036 42.6617C176.036 40.2004 176.638 37.9969 177.843 36.0571C179.048 34.1173 180.815 32.5936 183.145 31.486C185.474 30.3784 188.257 29.8275 191.499 29.8275C195.515 29.8275 198.849 30.689 201.5 32.4119V39.9191C200.565 39.2627 199.474 38.7294 198.229 38.3192C196.984 37.909 195.653 37.7039 194.23 37.7039C191.74 37.7039 189.795 38.1668 188.389 39.0986C186.983 40.0304 186.277 41.2435 186.277 42.7496C186.277 44.2265 186.96 45.4337 188.326 46.3831C189.691 47.3266 191.671 47.8013 194.27 47.8013C195.607 47.8013 196.927 47.602 198.229 47.2094C199.526 46.8109 200.645 46.3245 201.58 45.7502V53.0112C198.637 54.8162 195.223 55.7187 191.338 55.7187C188.068 55.7069 185.279 55.1326 182.978 53.984Z" fill="#5865F2" />
                          <path d="M211.518 53.9842C209.2 52.8356 207.433 51.265 206.216 49.2666C205 47.2682 204.386 45.0413 204.386 42.5799C204.386 40.1186 204.994 37.9209 206.216 35.9929C207.438 34.0648 209.194 32.5528 211.501 31.4569C213.802 30.3611 216.55 29.816 219.734 29.816C222.919 29.816 225.667 30.3611 227.968 31.4569C230.269 32.5528 232.025 34.0531 233.23 35.9694C234.435 37.8858 235.037 40.0834 235.037 42.5741C235.037 45.0354 234.435 47.2624 233.23 49.2608C232.025 51.2592 230.263 52.8297 227.945 53.9784C225.627 55.127 222.89 55.7013 219.729 55.7013C216.567 55.7013 213.83 55.1329 211.518 53.9842ZM223.722 46.7056C224.698 45.7094 225.191 44.3908 225.191 42.7499C225.191 41.109 224.703 39.8021 223.722 38.8352C222.747 37.8623 221.416 37.3759 219.729 37.3759C218.013 37.3759 216.67 37.8623 215.689 38.8352C214.714 39.808 214.226 41.109 214.226 42.7499C214.226 44.3908 214.714 45.7094 215.689 46.7056C216.665 47.7019 218.013 48.2059 219.729 48.2059C221.416 48.2 222.747 47.7019 223.722 46.7056Z" fill="#5865F2" />
                          <path d="M259.17 31.3395V40.2004C258.149 39.5147 256.829 39.1748 255.194 39.1748C253.054 39.1748 251.401 39.8371 250.254 41.1615C249.101 42.486 248.527 44.5488 248.527 47.3383V54.8865H238.687V30.8883H248.326V38.5185C248.86 35.7289 249.726 33.672 250.919 32.3416C252.107 31.0172 253.645 30.355 255.515 30.355C256.933 30.355 258.149 30.6832 259.17 31.3395Z" fill="#5865F2" />
                          <path d="M291.864 25.3505V54.8868H282.023V49.5128C281.191 51.5346 279.929 53.0759 278.231 54.1308C276.532 55.1798 274.432 55.7072 271.942 55.7072C269.716 55.7072 267.777 55.1563 266.118 54.0487C264.46 52.9411 263.181 51.4233 262.28 49.4952C261.385 47.5671 260.931 45.3871 260.931 42.9492C260.903 40.4351 261.379 38.1788 262.36 36.1804C263.336 34.182 264.718 32.6232 266.497 31.5039C268.276 30.3845 270.307 29.8219 272.585 29.8219C277.273 29.8219 280.417 31.9024 282.023 36.0574V25.3505H291.864ZM280.555 46.5416C281.559 45.5453 282.058 44.2502 282.058 42.6679C282.058 41.1383 281.57 39.8901 280.595 38.9348C279.619 37.9796 278.282 37.499 276.601 37.499C274.943 37.499 273.618 37.9854 272.625 38.9583C271.632 39.9311 271.139 41.1911 271.139 42.7499C271.139 44.3088 271.632 45.5805 272.625 46.565C273.618 47.5496 274.926 48.0418 276.561 48.0418C278.219 48.036 279.55 47.5378 280.555 46.5416Z" fill="#5865F2" />
                          <path d="M139.382 33.4433C142.091 33.4433 144.288 31.4282 144.288 28.9425C144.288 26.4568 142.091 24.4418 139.382 24.4418C136.672 24.4418 134.476 26.4568 134.476 28.9425C134.476 31.4282 136.672 33.4433 139.382 33.4433Z" fill="#5865F2" />
                          <path d="M134.472 36.5436C137.478 37.868 141.208 37.9266 144.283 36.5436V55.0155H134.472V36.5436Z" fill="#5865F2" />
                        </g>
                      </g>
                      <defs>
                        <clipPath id="clip0_68_9">
                          <rect width="292" height="56.4706" fill="white" transform="translate(0 11.7646)" />
                        </clipPath>
                        <clipPath id="clip1_68_9">
                          <rect width="292" height="56.4706" fill="white" transform="translate(0 11.7646)" />
                        </clipPath>
                      </defs>
                    </svg> community
                  </Link>
                  <p className="text-center">Let me know if pro features should be implemented.</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default Pricing;
